@model HomeModel
@{
    ViewData["Title"] = "Home";
    var accountType = ViewData["AccountType"] as string;
}

<style>
    .index-main {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
    }

        .index-main img {
            height: 30%;
            width: 65%;
        }

</style>
<div class="text-center index-main">

    @if(accountType == "Admin")
    {
        <div class="container">
            <h3>Edição de modo administrador</h3>
            <form asp-controller="Home" asp-action="ApplyUserToEnterprise">
                <div class="form-group mb-4">
                    <label for="empresa">Selecionar Empresa:</label>
                    <select id="empresa" name="empresaId" class="form-control">
                        @if (Model != null && Model.empresas.Any())
                        {
                            foreach (var empresa in Model.empresas)
                            {
                                <option value="@empresa.Nome">@empresa.Nome</option>
                            }
                        }
                        else
                        {
                            <option value="">Sem Registros</option>
                        }
                    </select>
                    <input type="text" id="nomeUsuario" name="nomeUsuario" placeholder="Digite o nome do usuário" class="form-control" required />

                    <button id="atribuirUsuarioBtn" type="submit" disabled class="btn btn-primary">Atribuir Usuário</button>
                </div>
            </form>
            <form asp-controller="Home" asp-action="CreateEnterprise">
                <div class="form-group">
                    <label for="nome">Nome da Empresa:</label>
                    <input type="text" id="nomeEmp" name="nomeEmpresa" class="form-control" required />
                </div>
                <button type="submit" class="btn btn-primary" disabled id="criarEmpresaBtn">Criar Empresa</button>
            </form>
        </div>
    }
    else
    {   
        <img src="~/assets/issabel_logo_mini.png" alt="Logo Integra Sistema" />  
    }

</div>

@section Scripts{
    <script>
 
        document.getElementById('nomeEmp').addEventListener('input', function () {
            document.getElementById('criarEmpresaBtn').disabled = !this.value;
        });
        document.getElementById('nomeUsuario').addEventListener('input', function () {
            document.getElementById('atribuirUsuarioBtn').disabled = !this.value;
        });
    </script>
}